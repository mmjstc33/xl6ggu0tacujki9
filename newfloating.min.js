document.addEventListener("DOMContentLoaded",function(){const draggableDiv=document.createElement("div");draggableDiv.id="draggable";draggableDiv.className="tengah mnu";draggableDiv.innerHTML=`<div id="myMenu"></div>`;document.body.appendChild(draggableDiv);class tbl{constructor(t,e,imgUrl,linkUrl){this.$element=$(document.createElement("div"));this.icon=t;this.$element.addClass("tbl");this.$element.css("background",`url(${imgUrl}) no-repeat center center`);this.$element.css("background-size","cover");this.prev=null;this.next=null;this.isMoving=false;if(linkUrl){this.$link=$("<a></a>").attr({href:linkUrl,target:"_blank",rel:"noopener noreferrer nofollow"}).css({display:"block",width:"100%",height:"100%",textDecoration:"none"});this.$element.append(this.$link)}}moveTo(t){anime({targets:this.$element[0],left:t.$element.css("left"),top:t.$element.css("top"),duration:700,elasticity:500});if(this.next)this.next.moveTo(t)}moveTo(t){anime({targets:this.$element[0],left:t.$element.css("left"),top:t.$element.css("top"),duration:700,elasticity:500});if(this.next)this.next.moveTo(t)}updatePosition(){anime({targets:this.$element[0],left:this.prev.$element.css("left"),top:this.prev.$element.css("top"),duration:200});if(this.next)this.next.updatePosition()}}class Menu{constructor(t){this.$element=$(t);this.size=0;this.first=null;this.last=null;this.timeOut=null;this.hasMoved=false;this.status="closed"}add(t){const e=this;if(this.first==null){this.first=t;this.last=t;this.first.$element.on("mouseup",function(){e.first.isMoving?e.first.isMoving=false:e.click()});t.$element.draggable({start:function(){e.close();t.isMoving=true},drag:function(){if(t.next)t.next.updatePosition()},stop:function(){t.isMoving=false;if(t.next)t.next.moveTo(t)}})}else{this.last.next=t;t.prev=this.last;this.last=t}this.$element.after(t.$element)}open(){this.status="open";let t=this.first.next,e=1,s=this.first,i=s.$element.css("top")<s.$element.css("bottom")?1:-1;while(t!=null){anime({targets:t.$element[0],left:s.$element.css("left"),top:parseInt(s.$element.css("top"),10)-50*e,duration:500});e++;t=t.next}tbl2.$element.show();tbl3.$element.show();tbl4.$element.show();tbl5.$element.show()}close(){this.status="closed";let t=this.first.next,e=this.first,s=1;while(t!=null){t.$element.removeClass("show");anime({targets:t.$element[0],left:e.$element.css("left"),top:e.$element.css("top"),duration:500});s++;t=t.next}tbl2.$element.hide();tbl3.$element.hide();tbl4.$element.hide();tbl5.$element.hide()}click(){this.status==="closed"?this.open():this.close()}}let timeOut;const menu=new Menu("#myMenu");const tbl1=new tbl("list","#FF5C5C","https://ik.imagekit.io/iafp8cq1d/XYdGqmG.webp?tr=q-70,w-100,h-100");tbl1.$element.addClass("tbl1");menu.add(tbl1);const tbl2=new tbl("RTP","#FF5C5C","https://ik.imagekit.io/iafp8cq1d/9amt06L.webp?tr=q-70,w-100,h-100","https://jali.me/rtp-mega111");const tbl3=new tbl("Whatsapp","#5CD1FF","https://i.imgur.com/SMdWQUp.png","#");const tbl4=new tbl("Telegram","#FFF15C","https://ik.imagekit.io/iafp8cq1d/tLkQcDa.webp?tr=q-70,w-100,h-100","https://jali.me/tg-mega111");const tbl5=new tbl("QRIS","#64F592","https://ik.imagekit.io/iafp8cq1d/DjoLGNj.webp?tr=q-70,w-100,h-100","https://jali.me/qris-mega111");menu.add(tbl1);menu.add(tbl2);menu.add(tbl3);menu.add(tbl4);menu.add(tbl5);$(document).delay(50).queue(function(t){menu.open();t();$(document).delay(1e3).queue(function(t){menu.close();t()})});$("#draggable").draggable({start:function(){console.log("Drag started")},drag:function(){console.log("Dragging")},stop:function(){console.log("Drag stopped")}});let startX,startY;draggableDiv.addEventListener("touchstart",function(e){const touch=e.touches[0];startX=touch.pageX-draggableDiv.offsetLeft;startY=touch.pageY-draggableDiv.offsetTop});draggableDiv.addEventListener("touchmove",function(e){const touch=e.touches[0];draggableDiv.style.left=`${touch.pageX-startX}px`;draggableDiv.style.top=`${touch.pageY-startY}px`;e.preventDefault()})});